(()=>{"use strict";var t=document.getElementById("currentValue"),e=document.getElementById("lastOperation"),n=document.getElementById("themeImage"),i="0",l=null,o=null,r=null,u=null;function c(){var t=document.documentElement.getAttribute("data-theme"),e="light"===t?"dark":"light";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e),n.src="light"===t?"https://i.imgur.com/snp1idS.png":"https://i.imgur.com/JZfjpM8.png"}c();var s=localStorage.getItem("theme")||"light";function g(){t.value=i,e.value=u,t.scrollLeft=t.scrollWidth}function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=o||0,c=l="-"==i.toString()[0]&&"-"==r?"-"+i.toString().split(r)[1]:i.toString().split(r)[0];if(null!==(t=n)&&void 0!==t&&null!==(t=t.toString())&&void 0!==t&&t.includes("%")){for(;n.toString().includes("%");)o=parseFloat(o)/100,n=n.toString().slice(0,-1);c.toString().includes("%")||(o*=l)}for(;c.toString().includes("%");)l=parseFloat(l)/100,c=c.toString().slice(0,-1);l=parseFloat(l),o=parseFloat(o),u=i,e&&(u="-(".concat(i,")")),"+"===r?i=l+o:"-"===r?i=l-o:"*"===r?i=function(t,e){return t*e}(l,o):"/"===r?(i=function(t,e){return t/e}(l,o),0==o&&(i="Divide by zero")):"%"===r&&(i=i.toString().split("%"),console.log(i),i=i[1]?i[0]%i[1]:i[0]/100),i.toString().includes(".")&&i.toString().split(".")[1].length>9&&(i=parseFloat(Number(i).toFixed(9))),l=i,o=null,r=null,g()}document.documentElement.setAttribute("data-theme",s),document.querySelectorAll(".btn").forEach((function(t){t.addEventListener("click",(function(t){var e,n,s=t.currentTarget.value;if(isNaN(s)&&"."!==s&&"%"!==s)if("clear"===s)i="0",l=null,o=null,r=null,u=null,g();else if("negate"===s&&"0"!==i&&"Divide by zero"!==i){if(r||o)r&&o&&(a(!0),i=-i);else{var d=i;for(u=i;d.toString().includes("%");)i=parseFloat(i)/100,d=d.toString().slice(0,-1);i=-i,g()}g()}else["/","*","-","+"].includes(s)&&"Divide by zero"!==i?(e=s,r&&o?a():r&&!o&&(r=e,i=i.toString().slice(0,-1)),r=e,l=i,"Divide by zero"!==i&&(i+=r),g()):"equal"===s&&i&&r&&o?a():r||o||!i.toString().includes("%")?"theme"===s&&c():(r="%",a());else"."===(n=s)?r||i.toString().includes(".")?r&&o&&!o.toString().includes(".")&&(i+="."):i+=".":"%"===n?(!r||o.length>0)&&(i+="%"):"0"===o?(i=i.toString().slice(0,-1),i+=n):"0"===i.toString()||"Divide by zero"==i?i=n:i+=n,r&&(o=i.toString().split(l+r).join("")),(r&&o>94906264||!r&&i>94906264)&&(i=i.toString().slice(0,-1),o&&(o=o.toString().slice(0,-1))),g()}))}))})();